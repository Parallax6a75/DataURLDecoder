<!doctype html>
<html>
<meta charset="utf-8">
<body>
<script>
  const params = new URLSearchParams(location.search);
  const encoded = params.get("data");

  function decodeUTF8(b64) {
    const bytes = Uint8Array.from(atob(b64), c => c.charCodeAt(0));
    return new TextDecoder("utf-8").decode(bytes);
  }

  if (!encoded) {
    document.body.textContent = "No data";
  } else {
    try {
      const html = decodeUTF8(encoded);
      document.write(html);
    } catch (e) {
      document.body.textContent = "Error";
    }
  }
</script>
</body>
</html>
